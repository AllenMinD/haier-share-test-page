<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0"/>
  <title>Document</title>
</head>
<body>
  <div style="color: red">hello</div>
  <button onClick="share()" style="width: 100px; height: 200px;">转发</button>

  <script type="text/javascript" src="https://res.wx.qq.com/open/js/jweixin-1.3.2.js"></script> 
  <script>
    function share() {
      console.log('share!!!');
      // 对本页面的url的特殊符号进行转化
      // JSON.stringify(resData).replace(/\&/g, "andMark").replace(/\?/g, "questionMark").replace(/\=/g, "equalMark");
      var transUrl = window.location.href.replace(/\&/g, "andMark").replace(/\?/g, "questionMark").replace(/\=/g, "equalMark");
      //小程序发送信息 
      wx.miniProgram.getEnv(function (res) { 
        if (res.miniprogram) { 
        var info = { 
          wboid: '1234555555', //参数一 
          wid: '78945454545', //参数二 
          webViewUrl: window.location.href
        }; 
        var json = JSON.stringify(info); 
          wx.miniProgram.postMessage({ 
            data: json 
          }); 
        }
        wx.miniProgram.navigateTo({
          url: '/pages/guidance/testShare2?webViewUrl=' + transUrl
        });
      });        
    }
    
  </script>
</body>
</html>